const arr = [10, 12, 15, 21]

for (var i = 0; i < arr.length; i++) { setTimeout(() => { console.log( arr[index] > 13 ? Good: ${arr[index]} : Bad: ${arr[index]} ) }, 3000) }

// Выведет Bad: undefined 4 раза, т.к. область видимости var - глобальная, т.е. i прощелкается до i = 4, а после отоброзятся четыре раза Bad: undefined

// Если поменять var на let, то получим Bad: 10, Bad: 12, Good: 15, Good: 21 (т.к. область видимости let - блочная)

// если создать анонимную функцию в которую передавать index, то код также будет выполнен так, как нам нужно.

// связано это с тем, что анонимная функция будет замыкать в себе контекст